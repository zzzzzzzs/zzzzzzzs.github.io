{"version":3,"sources":["webpack:///./src/components/ConfCenter/FlinkConf.vue","webpack:///src/components/ConfCenter/FlinkConf.vue","webpack:///./src/components/ConfCenter/FlinkConf.vue?1eab","webpack:///./src/components/ConfCenter/FlinkConf.vue?2bde","webpack:///./src/components/ConfCenter/FlinkConf.vue?cc14"],"names":["render","_vm","this","_c","_self","attrs","path","_v","staticClass","on","$event","addFlinkConfDialogVis","flinkConfFormTil","flinkConfList","scopedSlots","_u","key","fn","scope","getFlinkConfById","row","id","delFlinkConf","addFlinkConfDialogClosed","ref","addFlinkConfForm","model","value","name","callback","$$v","$set","expression","selectBtn","_l","flinkModel","item","ip","port","yarnUrl","_e","flinkHome","coreSite","hdfsSite","yarnSite","slot","testIp","addFlinkConf","staticRenderFns","data","queryInfo","pageNo","pageSize","total","flinkConf","created","methods","params","component"],"mappings":"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","file":"js/Flink_Conf.d64236a3.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"配置中心\")]),_c('el-breadcrumb-item',[_vm._v(\"flink 配置中心\")])],1),_c('el-card',[_c('div',{staticClass:\"flinkconf-title\"},[_vm._v(\" flink 配置 \"),_c('el-button',{staticClass:\"add-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addFlinkConfDialogVis = true, _vm.flinkConfFormTil='创建 flink 环境'}}},[_vm._v(\" 创建 flink 环境 \")])],1),_c('el-table',{attrs:{\"data\":_vm.flinkConfList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"label\":\"编号\",\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"label\":\"集群名字\",\"prop\":\"name\"}}),_c('el-table-column',{attrs:{\"label\":\"flink 集群模式\",\"prop\":\"model\"}}),_c('el-table-column',{attrs:{\"label\":\"ip\",\"prop\":\"ip\"}}),_c('el-table-column',{attrs:{\"label\":\"port\",\"prop\":\"port\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.getFlinkConfById(scope.row.id), _vm.flinkConfFormTil='编辑 flink 环境'}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.delFlinkConf(scope.row.id)}}})]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":_vm.flinkConfFormTil,\"visible\":_vm.addFlinkConfDialogVis,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addFlinkConfDialogVis=$event},\"close\":_vm.addFlinkConfDialogClosed}},[_c('el-form',{ref:\"addFlinkConfFormRef\",attrs:{\"model\":_vm.addFlinkConfForm,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"集群名字\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.name),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"name\", $$v)},expression:\"addFlinkConfForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"flink 模式：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.selectBtn},model:{value:(_vm.addFlinkConfForm.model),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"model\", $$v)},expression:\"addFlinkConfForm.model\"}},_vm._l((_vm.flinkModel),function(item){return _c('el-option',{key:item.flinkModel,attrs:{\"label\":item.flinkModel,\"value\":item.flinkModel}})}),1)],1),_c('div',[(_vm.addFlinkConfForm.model == 'standalone')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"ip：\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.ip),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"ip\", $$v)},expression:\"addFlinkConfForm.ip\"}})],1),_c('el-form-item',{attrs:{\"label\":\"port：\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.port),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"port\", $$v)},expression:\"addFlinkConfForm.port\"}})],1)],1):(_vm.addFlinkConfForm.model == 'yarn')?_c('div',[_c('el-form-item',{attrs:{\"label\":\"yarn 网址：\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.yarnUrl),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"yarnUrl\", $$v)},expression:\"addFlinkConfForm.yarnUrl\"}})],1)],1):_vm._e()]),_c('el-form-item',{attrs:{\"label\":\"FLINK_HOME 路径\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.flinkHome),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"flinkHome\", $$v)},expression:\"addFlinkConfForm.flinkHome\"}})],1),_c('el-form-item',{attrs:{\"label\":\"core_site 路径\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.coreSite),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"coreSite\", $$v)},expression:\"addFlinkConfForm.coreSite\"}})],1),_c('el-form-item',{attrs:{\"label\":\"hdfs_site 路径\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.hdfsSite),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"hdfsSite\", $$v)},expression:\"addFlinkConfForm.hdfsSite\"}})],1),_c('el-form-item',{attrs:{\"label\":\"yarn_site 路径\"}},[_c('el-input',{model:{value:(_vm.addFlinkConfForm.yarnSite),callback:function ($$v) {_vm.$set(_vm.addFlinkConfForm, \"yarnSite\", $$v)},expression:\"addFlinkConfForm.yarnSite\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addFlinkConfDialogVis = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.testIp}},[_vm._v(\"测试连接\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addFlinkConf}},[_vm._v(\"保 存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域-->\r\n    <el-breadcrumb separator-class='el-icon-arrow-right'>\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>配置中心</el-breadcrumb-item>\r\n      <el-breadcrumb-item>flink 配置中心</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <el-card>\r\n      <div class=\"flinkconf-title\">\r\n        flink 配置\r\n        <el-button type=\"primary\" class=\"add-btn\"\r\n                   @click=\"addFlinkConfDialogVis = true, flinkConfFormTil='创建 flink 环境'\">\r\n          创建 flink 环境\r\n        </el-button>\r\n      </div>\r\n      <!-- 数据源列表区域 -->\r\n      <el-table :data='flinkConfList' border stripe>\r\n        <el-table-column label='编号' type='index'></el-table-column>\r\n        <el-table-column label='集群名字' prop='name'></el-table-column>\r\n        <el-table-column label='flink 集群模式' prop='model'></el-table-column>\r\n        <el-table-column label='ip' prop='ip'></el-table-column>\r\n        <el-table-column label='port' prop='port'></el-table-column>\r\n        <el-table-column label='操作' width='180px'>\r\n          <template slot-scope='scope'>\r\n            <el-button type='primary' icon='el-icon-edit' size='mini'\r\n                       @click=\"getFlinkConfById(scope.row.id), flinkConfFormTil='编辑 flink 环境'\"></el-button>\r\n            <el-button type='danger' icon='el-icon-delete' size='mini' @click='delFlinkConf(scope.row.id)'>\r\n            </el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <el-dialog :title=flinkConfFormTil :visible.sync=\"addFlinkConfDialogVis\" width=\"50%\"\r\n               @close=\"addFlinkConfDialogClosed\">\r\n      <!-- 添加数据源表单 -->\r\n      <el-form :model=\"addFlinkConfForm\" ref=\"addFlinkConfFormRef\"\r\n               label-width=\"140px\">\r\n        <el-form-item label=\"集群名字\">\r\n          <el-input v-model=\"addFlinkConfForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"flink 模式：\">\r\n          <el-select v-model=\"addFlinkConfForm.model\" placeholder=\"请选择\" @change=\"selectBtn\">\r\n            <el-option\r\n              v-for=\"item in flinkModel\"\r\n              :key=\"item.flinkModel\"\r\n              :label=\"item.flinkModel\"\r\n              :value=\"item.flinkModel\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <div>\r\n          <div v-if=\"addFlinkConfForm.model == 'standalone'\">\r\n            <el-form-item label=\"ip：\">\r\n              <el-input v-model=\"addFlinkConfForm.ip\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"port：\">\r\n              <el-input v-model=\"addFlinkConfForm.port\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n          <div v-else-if=\"addFlinkConfForm.model == 'yarn'\">\r\n            <el-form-item label=\"yarn 网址：\">\r\n              <el-input v-model=\"addFlinkConfForm.yarnUrl\"></el-input>\r\n            </el-form-item>\r\n          </div>\r\n        </div>\r\n        <el-form-item label=\"FLINK_HOME 路径\">\r\n          <el-input v-model=\"addFlinkConfForm.flinkHome\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"core_site 路径\">\r\n          <el-input v-model=\"addFlinkConfForm.coreSite\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"hdfs_site 路径\">\r\n          <el-input v-model=\"addFlinkConfForm.hdfsSite\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"yarn_site 路径\">\r\n          <el-input v-model=\"addFlinkConfForm.yarnSite\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addFlinkConfDialogVis = false\">取 消</el-button>\r\n        <el-button type=\"success\" @click=\"testIp\">测试连接</el-button>\r\n        <el-button type=\"primary\" @click=\"addFlinkConf\">保 存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FlinkConf',\r\n  data() {\r\n    return {\r\n      queryInfo: {\r\n        // 当前的页\r\n        pageNo: 1,\r\n        // 当前每页显示多少条数据\r\n        pageSize: 20\r\n      },\r\n      flinkConfList: [],\r\n      total: 0,\r\n      addFlinkConfForm: {\r\n        model: '',\r\n        ip: '',\r\n        port: '',\r\n        yarnUrl: '',\r\n        flinkHome: '',\r\n        coreSite: '',\r\n        hdfsSite: '',\r\n        yarnSite: '',\r\n      },\r\n      flinkModel: [],\r\n      flinkConf: [],\r\n      addFlinkConfDialogVis: false,\r\n      flinkConfFormTil: '创建 flink 环境'\r\n    }\r\n  },\r\n  // 刚进入界面首先调用这里的函数\r\n  created() {\r\n    this.listFlinkModel()\r\n    this.pageFlinkConf()\r\n  },\r\n  methods: {\r\n    async getFlinkConfById(id) {\r\n      const {data: res} = await this.$http.get('flinkconf/pageFlinkConf', {params: {id: id}})\r\n      if (res.code !== 200) {\r\n        return this.$message.error('获取数据失败!')\r\n      }\r\n      if (res.data.records.length > 0) {\r\n        this.addFlinkConfForm = res.data.records[0]\r\n        this.addFlinkConfDialogVis = true\r\n        console.log(this.addFlinkConfForm)\r\n      }\r\n    },\r\n    // 删除数据源\r\n    async delFlinkConf(id) {\r\n      console.log(id)\r\n      const {data: res} = await this.$http.post('flinkconf/delFlinkConf', {'id': id})\r\n      console.log(res)\r\n      if (res.data !== true) {\r\n        return this.$message.error('删除数据源失败！')\r\n      }\r\n      this.$message.success('删除数据源成功！')\r\n      await this.pageFlinkConf()\r\n    },\r\n    async pageFlinkConf() {\r\n      const {data: res} = await this.$http.get('flinkconf/pageFlinkConf', {params: this.queryInfo})\r\n      if (res.code !== 200) return this.$message.error('获取数据源列表失败！')\r\n      this.flinkConfList = res.data.records\r\n      this.total = res.data.total\r\n      console.log(this.flinkConfList)\r\n    },\r\n    async addFlinkConf() {\r\n      console.log(this.addFlinkConfForm)\r\n      const {data: res} = await this.$http.post('flinkconf/addFlinkConf', this.addFlinkConfForm)\r\n      if (res.code !== 200) return this.$message.error('保存 flink 配置失败！')\r\n      this.testIp().then(r => {\r\n        if (r === true) this.addFlinkConfDialogVis = false\r\n      })\r\n      this.pageFlinkConf()\r\n      this.$message.success('保存 flink 配置成功！')\r\n      this.addFlinkConfDialogVis = false\r\n    },\r\n    addFlinkConfDialogClosed() {\r\n    },\r\n    selectBtn(value) {\r\n      this.flinkModel.forEach(item => {\r\n        if (item.flinkModel === value) this.addFlinkConfForm.model = value\r\n      })\r\n    },\r\n    async listFlinkModel() {\r\n      const {data: res} = await this.$http.get('flink-model/listFlinkModel')\r\n      if (res.code !== 200) return this.$message.error(\"获取 flink model 失败！\")\r\n      this.$message.success(\"获取 flink model 成功！\")\r\n      // console.log(res.data)\r\n      this.flinkModel = res.data\r\n    },\r\n    // 测试数据源\r\n    async testIp() {\r\n      if(this.addFlinkConfForm.model === 'standalone'){\r\n        const {data: res} = await this.$http.post('flinkconf/testIp', this.addFlinkConfForm)\r\n        console.log(res)\r\n        if (res.data !== true) {\r\n          this.$message.error('数据源测试连接失败！')\r\n          return false\r\n        }\r\n        this.$message.success('数据源测试连接成功！')\r\n        return true\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<!--scoped 只在当前组件中生效，去掉在全局生效。一个组件中的样式不应该影响其他地方-->\r\n<style lang='less' scoped>\r\n.flinkconf-title {\r\n  position: relative;\r\n  height: 40px;\r\n\r\n  .add-btn {\r\n    position: absolute;\r\n    right: 10px;\r\n    bottom: 15px;\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlinkConf.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlinkConf.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FlinkConf.vue?vue&type=template&id=0612d9ba&scoped=true&\"\nimport script from \"./FlinkConf.vue?vue&type=script&lang=js&\"\nexport * from \"./FlinkConf.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FlinkConf.vue?vue&type=style&index=0&id=0612d9ba&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0612d9ba\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FlinkConf.vue?vue&type=style&index=0&id=0612d9ba&prod&lang=less&scoped=true&\""],"sourceRoot":""}